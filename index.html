<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>JSON</h1>
    <h2>JavaScript Object Notation</h2>
    <h3></h3>
    <p>JSON is leightweight data format used for storing and exchanging data. It is easy for human to read and write and easy for machines to parse and generate.</p>
    <ul id="username-list"></ul>
    <input type="text" placeholder="post title" id="title"> <br>
    <input type="text" placeholder="post er body" id="body"> <br>
    <input type="text" placeholder="id" id="id"><br>
    <button id="submit">Submit</button>
    <script>
      // Post data to server 
      let submitBtn = document.getElementById('submit');
      submitBtn.addEventListener('click', function () {
        const title = document.getElementById('title').value
        const postBody = document.getElementById('body').value
        const id = document.getElementById('id').value
        const post = {title:title, body:postBody,  UserID: id}
        nowPostToServer(post)
      })
      
      function nowPostToServer(postInfo) {
        fetch('https://jsonplaceholder.typicode.com/posts', {
        method: 'POST',
        body: JSON.stringify(postInfo),
        headers: {
        'Content-type': 'application/json; charset=UTF-8',
      },
       })
       .then((response) => response.json())
       .then((json) => console.log(json));
       }
      //Load data from server using GET 
      fetch('https://jsonplaceholder.typicode.com/users')
      .then(response => response.json())
      .then(json => displayUser(json))

      const usernameList = document.getElementById('username-list')
      function displayUser(users) {
        const usernames = users.map(user=>user.username)
        for (let i = 0; i < usernames.length; i++) {
          const username = usernames[i];
          const li = document.createElement('li')
          li.innerHTML = username
          usernameList.appendChild(li)
        }
       
      }
    </script>
</body>
</html>
